{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);class o{constructor(e,t,n,o){this.form=e,this.nameField=t,this.occupationField=n,this.avatarField=o,this.setUserInfo=this.setUserInfo.bind(this),this.updateUserInfo=this.updateUserInfo.bind(this)}setUserInfo(){this.form.elements.fullName.value=this.nameField.textContent,this.form.elements.occupation.value=this.occupationField.textContent}updateUserInfo(e,t,n){this.nameField.textContent=e,this.occupationField.textContent=t,this.avatarField.style.backgroundImage=`url('${n}')`}}!function(){const e=document.querySelector(\".places-list\"),t=document.forms.new,n=t.elements.name,r=t.elements.link,u=new FormValidator(t);u.setEventListeners();const i=document.forms.editForm,s=i.elements.fullName,a=i.elements.occupation,c=new FormValidator(i);c.setEventListeners();const l=document.querySelector(\".popup_image\"),d=document.querySelector(\".popup_edit\"),p=document.querySelector(\".popup_cards\"),f=new ImagePopup(l),m=new(void 0)(d),v=new(void 0)(p),h=document.querySelector(\".user-info__name\"),b=document.querySelector(\".user-info__job\"),y=document.querySelector(\".user-info__photo\"),_=(document.querySelector(\".popup__image-large\"),new(void 0)(e,(...e)=>new(void 0)(...e),f.openPopup)),S=new o(i,h,b,y),g=new(void 0)({url:\"https://praktikum.tk/cohort11\",headers:{authorization:\"958efbfd-3413-4c9f-91d4-cc966f71b0c9\",\"Content-Type\":\"application/json\"}});g.requestUserInfo().then(e=>S.updateUserInfo(e.name,e.about,e.avatar)).catch(e=>console.log(e)),g.getInitialCards().then(e=>_.render(e)).catch(e=>console.log(e)),document.querySelector(\".user-info__button\").addEventListener(\"click\",(function(){v.openPopup(),u.setSubmitButtonState(t.querySelector(\"button\"),!1)})),document.querySelector(\".user-info__edit-button\").addEventListener(\"click\",(function(){c.resetErrors(i),S.setUserInfo(),m.openPopup()})),t.addEventListener(\"submit\",(function(e){e.preventDefault();const o={};o.name=n.value,o.link=r.value,_.addCard(o),v.closePopup(),t.reset()})),i.addEventListener(\"submit\",(function(e){e.preventDefault(),g.updateUserInfo(s.value,a.value).then(e=>{console.log(e),S.updateUserInfo(e.name,e.about,e.avatar),S.setUserInfo(),m.closePopup()}).catch(e=>console.log(e))}))}()}]);","extractedComments":[]}